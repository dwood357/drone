syms g q4 q5 q6 dq4 dq5 dq6 ddq1 ddq2 ddq3 ddq4 ddq5 ddq6 Ixx Iyy Izz m Q6 Q5 Q4 Q3 Q2 Q1

EL1 = m*ddq1 - Q1;

EL2 = m*ddq2 - Q2;

EL3 = m*ddq3 -m*g - Q3;

EL4 = (-(0.5*Iyy - 0.5*Izz)*(cos(q5)^2)*(cos(q6)^2)*ddq4 +...
       (Iyy + Izz)*sin(q6)*cos(q5)*cos(q6)*ddq5 -...
       Ixx*sin(q5)*ddq6 +...
       2*sin(q5)*cos(q5)*(Ixx + (Iyy - Izz)*cos(q6)^2)*dq4*dq5 +...
       sin(q6)*cos(q6)*((Iyy-Izz)*cos(q5)^2 - Ixx)*dq4*dq6 -...
       Q4);


EL5 = ((Iyy + Izz)*sin(q6)*cos(q5)*cos(q6)*ddq4 +...
       (Izz + (Iyy - Izz)*cos(q6)^2)*ddq5 +...
       sin(q5)*cos(q5)*(Ixx + (Iyy - Izz)*cos(q6)^2)*dq4^2 -...
       2*(Iyy - Izz)*sin(q6)*cos(q6)*dq5*dq6 +...
       cos(q5)*(Ixx +(Iyy + Izz)*cos(2*q6))*dq4*dq6 -...
       Q5);



EL6 = (-Ixx*sin(q5)*ddq4 +...
       Ixx*ddq6 -...
       sin(q6)*cos(q6)*((Iyy-Izz)*cos(q5)^2 + Iyy)*dq4^2 +...
       (Iyy-Izz)*sin(q6)*cos(q6)*dq5^2 -...
       cos(q5)*(Ixx + (Iyy + Izz)*cos(2*q6))*dq4*dq5-Q6);
   
eqns = [EL1 EL2 EL3 EL4 EL5 EL6];
vars = [ddq1 ddq2 ddq3 ddq4 ddq5 ddq6];

s = solve(eqns, [ddq1 ddq2 ddq3 ddq4 ddq5 ddq6], 'ReturnConditions', true);